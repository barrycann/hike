{"version":3,"sources":["app.js","controllers/exploreCtrl.js","controllers/hikeDetailsCtrl.js","controllers/homeCtrl.js","controllers/mainCtrl.js","controllers/navCtrl.js","controllers/profileCtrl.js","controllers/weatherCtrl.js","directives/colorChangeDir.js","directives/createHikeDir.js","directives/difficultyColorDir.js","directives/expandBoxDir.js","directives/fadeInDir.js","directives/fadeOutDir.js","directives/footerDir.js","directives/navDir.js","directives/parrallaxDir.js","directives/reviewDir.js","directives/reviewFormDir.js","directives/smallHikeDir.js","directives/weatherDir.js","services/authService.js","services/exploreService.js","services/hikeDetailsService.js","services/homeService.js","services/mainService.js","services/weatherService.js"],"names":["angular","module","run","$rootScope","$window","$on","scrollTo","config","$urlRouterProvider","$stateProvider","otherwise","state","url","templateUrl","controller","resolve","user","authService","$state","getCurrentUser","then","response","console","log","data","go","catch","err","$scope","exploreService","hikeFilter","getHikes","hikeData","getFilteredHikes","filters","difficultFilter","hikeDetailsService","getHikeDetails","hikeDetail","getHikeReviews","hikeid","i","length","time","reviewtime","moment","_d","toString","bt","substring","reviews","createReview","review","currentTime","Date","userid","alert","homeService","box1Class","box2Class","box3Class","box4Class","box5Class","box6Class","getLocalCoords","localLat","lat","localLon","lon","setLength","len1","len2","hikeLength1","hikeLength2","setFeature","param","hikeFeature","getPerfectHike","feat","undefined","foundHike","mainService","getUserData","createHike","hike","deleteHike","name","logout","reload","updateUser","editUser","reponse","weatherService","$timeout","getWeather","hikeInfo","latitude","longitude","weatherInfo","directive","restrict","link","scope","elem","attrs","$","bind","setTimeout","pageString","decodeURIComponent","window","location","hash","pageName","split","css","diff","diffText","bgColor","slideToggle","document","startFade","endFade","innerHeight","fadeOpacity","pageYOffset","pyo","on","event","depth","movement","translate3d","layer","layers","querySelectorAll","getAttribute","style","transform","service","$http","get","put","reviewArr","difficulty","urlArr","ratingurl","rating","diffArr","reviewrating","$stateParams","hikeName","theHike","post","calculateDistance","hlat","hlon","rad","x","Math","PI","R","dLat","dLong","a","sin","cos","c","atan2","sqrt","d","theHikes","hikeLat","hikeLon","distance","round","$q","delete","parsed","forecast","simpleforecast","forecastday","todayname","date","weekday_short","todaylogo","icon_url","todayhigh","high","fahrenheit","todaylow","low","day1name","day1logo","day1high","day1low","day2name","day2logo","day2high","day2low","day3name","day3logo","day3high","day3low"],"mappings":"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","file":"bundle.js","sourcesContent":["angular.module('hikeApp', ['ui.router', 'ngAnimate'])\r\n.run(function($rootScope, $window){\r\n   $rootScope.$on('$stateChangeSuccess', function(){\r\n      $window.scrollTo(0, 0);\r\n   })\r\n})\r\n.config(function($urlRouterProvider, $stateProvider){\r\n   \r\n   $urlRouterProvider.otherwise('/');\r\n   $stateProvider\r\n      .state('home', {\r\n         url: '/',\r\n         templateUrl: './views/home.html',\r\n         controller: 'homeCtrl'\r\n      })\r\n      .state('explore', {\r\n         url: '/explore',\r\n         templateUrl: './views/explore.html',\r\n         controller: 'exploreCtrl'\r\n      })\r\n      .state('profile', {\r\n         url: '/profile',\r\n         templateUrl: './views/profile.html',\r\n         controller: 'profileCtrl',\r\n         resolve: {\r\n            user: function(authService, $state){\r\n               return authService.getCurrentUser()\r\n               .then(function(response){\r\n                  console.log('response: data', response.data);\r\n                  if(!response.data){\r\n                     $state.go('home');\r\n                  } else {\r\n                     return response.data;\r\n                  }\r\n               })\r\n               .catch(function(err){\r\n                  console.log(\"Error on profile resolve: \", err)\r\n                  $state.go('home');\r\n               });\r\n            }\r\n         }\r\n      })\r\n      .state('hikeAdmin', {\r\n         url: '/hikeAdmin',\r\n         templateUrl: './views/hikeAdmin.html'\r\n      })\r\n      .state('hikeDetails', {\r\n         url: '/hikeDetails/:hikeName',\r\n         templateUrl: './views/hikeDetails.html',\r\n         controller: 'hikeDetailsCtrl'\r\n      })\r\n});","angular.module('hikeApp')\r\n.controller('exploreCtrl', function($scope, exploreService){\r\n\r\n   $scope.hikeFilter = {};\r\n   \r\n   $scope.getHikes = function(){\r\n      exploreService.getHikes()\r\n      .then(function(data){\r\n         $scope.hikeData = data;\r\n      });\r\n   }\r\n\r\n   $scope.getFilteredHikes = function(filters){\r\n      exploreService.getFilteredHikes(filters)\r\n      .then(function(data){\r\n         $scope.hikeData = data;\r\n      });\r\n   }\r\n\r\n   $scope.difficultFilter = function(){\r\n\r\n   }\r\n\r\n   $scope.getHikes();\r\n});","angular.module(\"hikeApp\")\r\n.controller('hikeDetailsCtrl', function($scope, hikeDetailsService){\r\n\r\n   $scope.getHikeDetails = function(){\r\n      hikeDetailsService.getHikeDetails()\r\n      .then(function(response){\r\n         $scope.hikeDetail = response;\r\n         $scope.getHikeReviews();\r\n      })\r\n   }\r\n\r\n   $scope.getHikeReviews = function(){\r\n      hikeDetailsService.getHikeReviews($scope.hikeDetail.hikeid)\r\n      .then(function(response){\r\n         for(var i=0;i<response.length; i++){\r\n            var time = response[i].reviewtime;\r\n            time = moment(time, \"YYYY-M-D hh:mm\")._d.toString();\r\n            var bt = time.substring(0, 21);\r\n            response[i].reviewtime = bt;\r\n         }\r\n\r\n         $scope.reviews = response;\r\n      });\r\n   }\r\n\r\n   $scope.getHikeDetails();\r\n\r\n   $scope.createReview = function(review){\r\n      var currentTime = new Date();\r\n      review.reviewtime = currentTime;\r\n      review.hikeid = $scope.hikeDetail.hikeid;\r\n      review.userid = $scope.user.userid;\r\n      hikeDetailsService.createReview(review)\r\n      .then(function(response){\r\n         if(response){\r\n            alert(\"Review submitted.\")\r\n         } else {\r\n            alert(\"No review submitted\");\r\n         }\r\n      });\r\n   }\r\n});","angular.module('hikeApp')\r\n.controller('homeCtrl', function($scope, homeService){\r\n\r\n   $scope.box1Class = \"little-box\";\r\n   $scope.box2Class = \"little-box\";\r\n   $scope.box3Class = \"little-box\";\r\n   $scope.box4Class = \"little-box\";\r\n   $scope.box5Class = \"little-box\";\r\n   $scope.box6Class = \"little-box\";\r\n\r\n   $scope.getLocalCoords = function(){\r\n      homeService.getLocalCoords()\r\n      .then(function(response){\r\n         $scope.localLat = response.lat;\r\n         $scope.localLon = response.lon;\r\n      });\r\n   }\r\n   $scope.getLocalCoords();\r\n\r\n   $scope.setLength = function(len1, len2){\r\n      $scope.hikeLength1 = len1;\r\n      $scope.hikeLength2 = len2;\r\n\r\n      if(len2 == 2){\r\n         $scope.box1Class = \"selected\";\r\n         $scope.box2Class = \"little-box\";\r\n         $scope.box3Class = \"little-box\";\r\n      }\r\n      if(len2 == 5){\r\n         $scope.box1Class = \"little-box\";\r\n         $scope.box2Class = \"selected\";\r\n         $scope.box3Class = \"little-box\";\r\n      }\r\n      if(len2 == 15){\r\n         $scope.box1Class = \"little-box\";\r\n         $scope.box2Class = \"little-box\";\r\n         $scope.box3Class = \"selected\";\r\n      }\r\n   }\r\n\r\n   $scope.setFeature = function(param){\r\n      $scope.hikeFeature = param\r\n      if(param == 'lake'){\r\n         $scope.box4Class = \"selected\";\r\n         $scope.box5Class = \"little-box\";\r\n         $scope.box6Class = \"little-box\";\r\n      }\r\n      if(param == 'waterfall'){\r\n         $scope.box4Class = \"little-box\";\r\n         $scope.box5Class = \"selected\";\r\n         $scope.box6Class = \"little-box\";\r\n      }\r\n      if(param == 'peak'){\r\n         $scope.box4Class = \"little-box\";\r\n         $scope.box5Class = \"little-box\";\r\n         $scope.box6Class = \"selected\";\r\n      }\r\n   }\r\n\r\n   $scope.getPerfectHike = function(len1, len2, feat, lat, lon){\r\n      if(len1 === undefined || feat === undefined){\r\n         alert(\"You must select a hike length and a feature!\");\r\n      } else {\r\n         homeService.getPerfectHike(len1, len2, feat, lat, lon)\r\n         .then(function(response){\r\n            $scope.foundHike = response[0];\r\n         });\r\n      }\r\n   }\r\n});","angular.module('hikeApp')\r\n.controller('mainCtrl', function($scope, mainService, authService){\r\n\r\n   $scope.getUserData = function(){\r\n      authService.getCurrentUser()\r\n      .then(function(response){\r\n         if(response.data){\r\n            $scope.user = response.data;\r\n         }\r\n      })\r\n      .catch(function(err){\r\n         console.log(err);\r\n      });\r\n   }\r\n   $scope.getUserData();\r\n\r\n   $scope.createHike = function(hike){\r\n      mainService.createHike(hike)\r\n      .then(function(response){\r\n         if(response){\r\n            alert(\"Hike submitted.\")\r\n         } else {\r\n            alert(\"Nothing happened\");\r\n         }\r\n      });\r\n   }\r\n\r\n   $scope.deleteHike = function(){\r\n      mainService.deleteHike($scope.hikeData.name)\r\n      .then(function(data){\r\n         \r\n      })\r\n   }\r\n});","angular.module('hikeApp')\r\n.controller('navCtrl', function($scope, authService, $state){\r\n\r\n   $scope.logout = function(){\r\n      authService.logout()\r\n      .then(function(response){\r\n         delete $scope.user;\r\n         $state.go('home', {}, {reload: true});\r\n      });\r\n   }\r\n\r\n});","angular.module('hikeApp')\r\n.controller('profileCtrl', function($scope, user, authService){\r\n\r\n  $scope.user = user;\r\n\r\n   $scope.updateUser = function(user){\r\n      authService.editUser(user)\r\n      .then(function(reponse){\r\n         $scope.user = response.data;\r\n      });\r\n   }\r\n   \r\n});","angular.module('hikeApp')\r\n.controller('weatherCtrl', function($scope, weatherService, $timeout){\r\n\r\n   $scope.getWeather = function(){\r\n      weatherService.getWeather($scope.hikeInfo.latitude, $scope.hikeInfo.longitude)\r\n      .then(function(data){\r\n         $scope.weatherInfo = data;\r\n      });\r\n   }\r\n\r\n   $timeout($scope.getWeather, 100);\r\n\r\n})","angular.module('hikeApp')\r\n.directive('colorChange', function(){\r\n   return{\r\n      restrict: 'A',\r\n      link: function(scope, elem, attrs){\r\n\r\n         $(elem).bind(\"click\", function(){\r\n            setTimeout(function(){\r\n               var pageString = decodeURIComponent(window.location.hash);\r\n               var pageName = pageString.split('/');\r\n               switch(pageName[1]){\r\n                  case 'explore':\r\n                     $(\".nav-bar\").css(\"background-color\", '#471311');\r\n                     break;\r\n                  case 'hikeDetails':\r\n                     $(\".nav-bar\").css(\"background-color\", '#212');\r\n                     break;\r\n                  case 'profile':\r\n                        $(\".nav-bar\").css(\"background-color\", '#042735');\r\n                        break;\r\n                  default:\r\n                     $(\".nav-bar\").css(\"background-color\", '#212');\r\n                     break;\r\n               }\r\n            }, 100);\r\n         });\r\n      }\r\n   }\r\n});","angular.module('hikeApp')\r\n.directive('createHike', function(){\r\n   return {\r\n      restrict: 'E',\r\n      templateUrl: './views/hikeAdminTmpl.html'\r\n   }\r\n});","angular.module('hikeApp')\r\n.directive('difficultyColor', function(){\r\n   return {\r\n      restrict: 'A',\r\n      link: function(scope, elem, attrs){ \r\n         var diff;\r\n         if(scope.hike.diffText){\r\n            diff = scope.hike.diffText;\r\n         }\r\n         if(scope.hikeDetail){\r\n            diff = scope.hikeDetail.diffText;\r\n         }\r\n         var bgColor;\r\n         switch(diff){\r\n            case 'easy':\r\n               bgColor = '#28965A'\r\n               break;\r\n            case 'medium':\r\n               bgColor = '#F18231'\r\n               break;\r\n            case 'challenging':\r\n               bgColor = '#892E33'\r\n               break;\r\n            case 'strenuous':\r\n               bgColor = '#311126'\r\n               break;\r\n            default:\r\n               bgColor = 'black'\r\n               break;\r\n         }\r\n         $(elem).css('background-color', bgColor);\r\n      }\r\n   }\r\n});","angular.module('hikeApp')\r\n.directive('expandBox', function(){\r\n   return{\r\n      restrict: 'A',\r\n      link: function(scope, elem, attrs){\r\n         $(elem).bind(\"click\", function(){\r\n            $(\".expandable\").slideToggle(300, function(){\r\n            });\r\n         })\r\n      }\r\n   }\r\n})","angular.module('hikeApp')\r\n.directive('fadeInDir', function(){\r\n   return {\r\n      restrict: 'A',\r\n      link: function(scope, elem, attrs){\r\n         elem.css('opacity', 0);\r\n         $(document).bind('scroll', function(){\r\n            var startFade;\r\n            var endFade;\r\n            if(window.innerHeight > 1100){\r\n               startFade = 200;\r\n               endFade = 350;\r\n            } else {\r\n               startFade = 350;\r\n               endFade = 650;\r\n            }\r\n            var fadeOpacity = (endFade-pageYOffset) / (endFade - startFade);\r\n            var pyo = pageYOffset;\r\n            if(pyo < startFade){\r\n               elem.css('opacity', 0);\r\n            } else if(pyo >= startFade && pyo <= endFade){\r\n               elem.css('opacity', 1-fadeOpacity);\r\n            } else if(pyo > endFade){\r\n               elem.css('opacity', 1);\r\n            }\r\n         });\r\n      }\r\n   }\r\n});","angular.module('hikeApp')\r\n.directive('fadeOutDir', function(){\r\n   return {\r\n      restrict: 'A',\r\n      link: function(scope, elem, attrs){\r\n\r\n         $(document).bind('scroll', function(){\r\n            var startFade;\r\n            var endFade;\r\n            if(window.innerHeight > 1100){\r\n               startFade = 100;\r\n               endFade = 350;\r\n            } else {\r\n               startFade = 100;\r\n               endFade = 500;\r\n            }\r\n            var pyo = pageYOffset;\r\n            var fadeOpacity = (endFade-pageYOffset) / (endFade - startFade);\r\n\r\n            if(pyo < startFade){\r\n               elem.css('opacity', 1);\r\n            } else if(pyo >= startFade && pyo <= endFade){\r\n               elem.css('opacity', fadeOpacity);\r\n            } else if(pyo > endFade){\r\n               elem.css('opacity', 0);\r\n            }\r\n         });\r\n      }\r\n   }\r\n});","angular.module('hikeApp')\r\n.directive('footerDir', function(){\r\n   return {\r\n      restrict: 'E',\r\n      templateUrl: './views/footer.html'\r\n   }\r\n})","angular.module('hikeApp')\r\n.directive('navDir', function(){\r\n   return {\r\n      restrict: 'E',\r\n      templateUrl: './views/navTemplate.html',\r\n      controller: 'navCtrl'\r\n   }\r\n})","angular.module('hikeApp')\r\n.directive('parallaxDir', function(){\r\n   return {\r\n      restrict: 'A',\r\n      link: function(scope, elem, attrs){\r\n         $(document).on(\"scroll\", function(event){\r\n            var depth, movement, translate3d, layer;\r\n            var layers = document.querySelectorAll(\"[data-type='parallax']\");\r\n            for(var i=0; i<layers.length; i++){\r\n               layer = layers[i];\r\n               depth = layer.getAttribute('data-depth');\r\n               movement = -(pageYOffset * depth);\r\n               translate3d = 'translate3d(0, ' + movement + 'px, 0)';\r\n               layer.style['-webkit-transform'] = translate3d;\r\n               layer.style['-moz-transform'] = translate3d;\r\n               layer.style['-ms-transform'] = translate3d;\r\n               layer.style['-o-transform'] = translate3d;\r\n               layer.style.transform = translate3d;\r\n            }\r\n         })\r\n      }\r\n   }\r\n})","angular.module('hikeApp')\r\n.directive('reviewDir', function(){\r\n   return {\r\n      restrict: 'E',\r\n      templateUrl: './views/reviewTemplate.html'\r\n   }\r\n})","angular.module('hikeApp')\r\n.directive('reviewFormDir', function(){\r\n      return {\r\n            restrict: 'AE',\r\n            templateUrl: './views/reviewFormTemplate.html'\r\n      }\r\n});","angular.module('hikeApp')\r\n.directive('smallHikeDir', function(){\r\n   return {\r\n      restrict: 'E',\r\n      templateUrl: './views/smallHikeTemplate.html'\r\n   }\r\n})","angular.module('hikeApp')\r\n.directive('weatherDir', function(){\r\n   return {\r\n      restrict: 'EA',\r\n      scope: {\r\n         hikeInfo: '=info'\r\n      },\r\n      templateUrl: './views/weatherTemplate.html',\r\n      controller: 'weatherCtrl'\r\n   }\r\n})","angular.module('hikeApp')\r\n.service('authService', function($http){\r\n\r\n   this.logout = function(){\r\n      return $http.get('/api/logout')\r\n      .then(function(response){\r\n         return response;\r\n      })\r\n   };\r\n\r\n   this.getCurrentUser = function(){\r\n      return $http.get('/api/me')\r\n      .then(function(response){\r\n         return response;\r\n      })\r\n   };\r\n\r\n   this.editUser = function(user){\r\n      return $http.put('/api/user/current', user)\r\n      .then(function(response){\r\n         return response;\r\n      });\r\n   }\r\n\r\n});","angular.module('hikeApp')\r\n.service('exploreService', function($http){\r\n   \r\n   this.getHikes = function(){\r\n      return $http.get('/api/hikes')\r\n      .then(function(response){\r\n         var reviewArr =  response.data;\r\n         for(var i=0;i<reviewArr.length;i++){\r\n            var diff = reviewArr[i].difficulty;\r\n            var urlArr = ['./img/ratings/ratings/rating1.png','./img/ratings/rating2.png','./img/ratings/rating3.png','./img/ratings/rating4.png','./img/ratings/rating5.png','./img/ratings/rating6.png','./img/ratings/rating7.png','./img/ratings/rating8.png','./img/ratings/rating9.png','./img/ratings/rating10.png'];\r\n            \r\n            switch(diff){\r\n               case 1:\r\n               case 2:\r\n               case 3:\r\n                  reviewArr[i].diffText = 'easy';\r\n                  break;\r\n               case 4:\r\n               case 5:\r\n               case 6:\r\n                  reviewArr[i].diffText = 'medium';\r\n                  break;\r\n               case 7:\r\n               case 8:\r\n                  reviewArr[i].diffText = 'challenging';\r\n                  break;\r\n               case 9:\r\n               case 10:\r\n                  reviewArr[i].diffText = 'strenuous';\r\n                  break;\r\n               default:\r\n                  reviewArr[i].diffText = 'None Assigned';\r\n            }\r\n            reviewArr[i].ratingurl = urlArr[reviewArr[i].rating - 1];\r\n         }\r\n         return reviewArr;\r\n      })\r\n   }\r\n\r\n   this.getFilteredHikes = function(){\r\n      return $http.get('/api/hikes/' + filters)\r\n      .then(function(response){\r\n\r\n         var reviewArr =  response.data;\r\n         var diffArr = ['easy','medium','challenging','strenuous'];\r\n         for(var i=0;i<reviewArr.length;i++){\r\n            reviewArr[i].diffText = urlArr[reviewArr[i].reviewrating - 1];\r\n         }\r\n         return reviewArr;\r\n      })\r\n   }\r\n   \r\n});","angular.module(\"hikeApp\")\r\n.service('hikeDetailsService', function($http, $stateParams){\r\n\r\n   this.getHikeDetails = function(){\r\n      return $http.get('/api/hikes/' + $stateParams.hikeName)\r\n      .then(function(response){\r\n         var theHike = response.data[0];\r\n\r\n         var diff = theHike.difficulty;\r\n         var urlArr = ['./img/ratings/rating1.png','./img/ratings/rating2.png','./img/ratings/rating3.png','./img/ratings/rating4.png','./img/ratings/rating5.png','./img/ratings/rating6.png','./img/ratings/rating7.png','./img/ratings/rating8.png','./img/ratings/rating9.png','./img/ratings/rating10.png'];\r\n\r\n         theHike.ratingurl = urlArr[theHike.rating - 1];\r\n         \r\n         switch(diff){\r\n            case 1:\r\n            case 2:\r\n            case 3:\r\n               theHike.diffText = 'easy';\r\n               break;\r\n            case 4:\r\n            case 5:\r\n            case 6:\r\n               theHike.diffText = 'medium';\r\n               break;\r\n            case 7:\r\n            case 8:\r\n               theHike.diffText = 'challenging';\r\n               break;\r\n            case 9:\r\n            case 10:\r\n               theHike.diffText = 'strenuous';\r\n               break;\r\n            default:\r\n               theHike.diffText = 'None Assigned';\r\n         }\r\n         return theHike;\r\n      })\r\n   }\r\n\r\n   this.getHikeReviews = function(param){\r\n      return $http.get('/api/reviews/' + param)\r\n      .then(function(response){\r\n         var reviewArr =  response.data;\r\n         var urlArr = ['./img/ratings/rating1.png','./img/ratings/rating2.png','./img/ratings/rating3.png','./img/ratings/rating4.png','./img/ratings/rating5.png','./img/ratings/rating6.png','./img/ratings/rating7.png','./img/ratings/rating8.png','./img/ratings/rating9.png','./img/ratings/rating10.png'];\r\n         for(var i=0;i<reviewArr.length;i++){\r\n            console.log(reviewArr[i].reviewrating);\r\n            reviewArr[i].ratingurl = urlArr[reviewArr[i].reviewrating - 1];\r\n         }\r\n         console.log(reviewArr);\r\n         return reviewArr;\r\n      });\r\n   }\r\n\r\n   this.createReview = function(review){\r\n      return $http.post('/api/reviews', review)\r\n      .then(function(response){\r\n         return response;\r\n      });\r\n   }\r\n\r\n})","angular.module('hikeApp')\r\n.service('homeService', function($http){\r\n\r\n   var calculateDistance = function(hlat, hlon, lat, lon){\r\n      var rad = function(x) {\r\n         return x * Math.PI / 180;\r\n      };\r\n\r\n      var R = 6378137; // Earth’s mean radius in meter\r\n      var dLat = rad(lat - hlat);\r\n      var dLong = rad(lon - hlon);\r\n      var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n         Math.cos(rad(hlat)) * Math.cos(rad(lat)) *\r\n         Math.sin(dLong / 2) * Math.sin(dLong / 2);\r\n      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n      var d = R * c;\r\n      return d; // returns the distance in meter\r\n   }\r\n\r\n   this.getPerfectHike = function(len1, len2, feat, lat, lon){\r\n      return $http.get('/api/hikes/'+ len1 + '/' + len2 + '/' + feat)\r\n      .then(function(response){\r\n         var theHikes = response.data;\r\n         for(var i=0;i<theHikes.length;i++){\r\n            var hikeLat = theHikes[i].latitude;\r\n            var hikeLon = theHikes[i].longitude;\r\n\r\n            var distance = calculateDistance(hikeLat, hikeLon, lat, lon);\r\n            theHikes[i].distance = Math.round(distance * 0.000621371);\r\n         }\r\n         return theHikes;\r\n      })\r\n   }\r\n\r\n   this.getLocalCoords = function(){\r\n      return $http.get('http://ip-api.com/json')\r\n      .then(function(response){\r\n         return response.data;\r\n      });\r\n   }\r\n});","angular.module('hikeApp')\r\n.service('mainService', function($http, $q){\r\n\r\n   this.createHike = function(hike){\r\n      return $http.post('/api/hikes', hike);\r\n   }\r\n\r\n   this.deleteHike = function(name){\r\n      return $http.delete('/api/hikes', name)\r\n   }\r\n\r\n});","angular.module('hikeApp')\r\n.service('weatherService', function($http){\r\n   this.getWeather = function(lat, lon){\r\n      return $http.get('http://api.wunderground.com/api/693fef8ebff56c61/forecast/q/' + lat + ',' + lon + '.json')\r\n      .then(function(response){\r\n         var parsed = response.data.forecast.simpleforecast.forecastday;\r\n         var weatherInfo = {\r\n            todayname: parsed[0].date.weekday_short,\r\n            todaylogo: parsed[0].icon_url,\r\n            todayhigh: parsed[0].high.fahrenheit,\r\n            todaylow: parsed[0].low.fahrenheit,\r\n            day1name: parsed[1].date.weekday_short,\r\n            day1logo: parsed[1].icon_url,\r\n            day1high: parsed[1].high.fahrenheit,\r\n            day1low: parsed[1].low.fahrenheit,\r\n            day2name: parsed[2].date.weekday_short,\r\n            day2logo: parsed[2].icon_url,\r\n            day2high: parsed[2].high.fahrenheit,\r\n            day2low: parsed[2].low.fahrenheit,\r\n            day3name: parsed[3].date.weekday_short,\r\n            day3logo: parsed[3].icon_url,\r\n            day3high: parsed[3].high.fahrenheit,\r\n            day3low: parsed[3].low.fahrenheit,\r\n         }\r\n         return weatherInfo;\r\n      });\r\n   }\r\n})"]}